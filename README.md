# Horizon2022AutoAim

#### 介绍
RoboMaster2022华北理工大学Horizon战队视觉程序，包含传统视觉识别+SVM数字识别(MLP是直接CV华南师范大学的模型和配置文件)，卡尔曼滤波，移动预测，反陀螺功能（暂无能量机关）。反陀螺部分对移动陀螺打击不好。 英雄和哨兵机器人采用大恒MER-139，分辨率为1280*1024，在1135g7上帧率可跑满大恒相机帧率，处理线程耗时5.5ms左右。在nx上跑可达100帧。在tx2 跑只有70-80帧。

#### 软件架构

```zan
├─include				  //包含路径
├─build					  //生成路径
├─src                     //源文件路径
├─Tool                    //CNN分类器训练文件
├─svmTrain                //SVM训练的模型（txt文件）
├─DaHengCalibration       //大恒相机标定程序
```

#### 安装教程
1. 先配置好环境，opencv，Eigen
2. 修改cmakelists中的大恒配置，改为自己的路径

#### 使用说明
1. 传统视觉，先调相机曝光，再调节阈值卷积等等
2. 卡尔曼采用的是传统的，调Q和R就行
3. 当usb和大恒相机切换时，打开RMvision.h文件，最上面的有关相机的宏定义，修改即可。

#### 感谢
1. 感谢西北工业大学wmj战队、桂林电子科技大学Evolution战队、上海交通大学交龙战队、深圳大学RoboPilots等战队的开源。
2. 感谢各个开源战队的指导与帮助，帮助我几乎从零到完整的写完自瞄程序（尽管有很多bug，也有很多不足之处，好多地方还没有调试）。
3. 特别鸣谢上海交通大学交龙战队的答疑和指导，沈阳航空航天大学TUP战队和四川大学火锅战队开源数据集站和教程，以及RM视觉交流群里面来自所用战队的大佬帮助。
4. 感谢华南师范大学1165g7工控板分享，哈尔滨工业大学（深圳）nuc1165g7的测评。



